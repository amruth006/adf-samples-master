/* Copyright 2010, 2017, Oracle and/or its affiliates. All rights reserved. */
package test.model;
import java.sql.SQLException;
import oracle.jbo.Key;
import oracle.jbo.Row;
import oracle.jbo.RowSetIterator;
import oracle.jbo.server.ViewObjectImpl;
import oracle.jbo.domain.Number;
import test.model.common.EmployeeListRow;
//  ---------------------------------------------------------------------
//  ---    File generated by Oracle ADF Business Components Design Time.
//  ---    Custom code may be added to this class.
//  ---------------------------------------------------------------------

public class EmployeeListImpl extends ViewObjectImpl implements test.model.common.EmployeeList  {
  /**
   * 
   *  This is the default constructor (do not remove)
   */
  public EmployeeListImpl() {
  }
  public void markEmployeeAsSelectedUsingString(String empnoString) {
    try { markEmployeeAsSelected(new Number(empnoString)); }
    catch (SQLException s) { /* ignore */ }
  }
  /**
   * Use a secondary iterator to mark the selected attribute in
   * every row as false.
   */
  public void resetSelection() {
    RowSetIterator rsi = createRowSetIterator(null);
    while (rsi.hasNext()) {
      EmployeeListRow emp = (EmployeeListRow)rsi.next();
      emp.setSelected(Boolean.FALSE);
    }
    rsi.closeRowSetIterator();
  }  
  public void markEmployeeAsSelected(Number empno) {
    EmployeeListRow emp = findEmployeeListRowByKey(empno);
    emp.setSelected(Boolean.TRUE);
  }
  public EmployeeListRow findEmployeeListRowByKey(Number empno) {
    Key k = new Key(new Object[]{empno});
    Row[] empsFound = findByKey(k,1);
    if (empsFound.length == 0) {
      return null;
    }
    return (EmployeeListRow)empsFound[0];
  }

  protected void create() {
    super.create();
    setManageRowsByKey(true);
  }
}
